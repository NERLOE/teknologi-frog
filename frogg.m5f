{"components":[{"id":"____screen","createTime":1643890031840,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","type":"screen"},{"id":"____buttonA","createTime":1643890031840,"name":"ButtonA","buttonIndex":0,"x":35,"y":216,"width":64,"height":24,"text":"ButtonA","visibility":false,"type":"button"},{"id":"____buttonB","createTime":1643890031840,"name":"ButtonB","buttonIndex":1,"x":125,"y":216,"width":64,"height":24,"text":"ButtonB","visibility":false,"type":"button"},{"id":"____buttonC","createTime":1643890031840,"name":"ButtonC","buttonIndex":2,"x":215,"y":216,"width":64,"height":24,"text":"ButtonC","visibility":false,"type":"button"},{"id":"Ev@sI3aVbybJ&EW^","createTime":1644400156653,"isCoreTwo":false,"isPaper":false,"name":"label0","x":9,"y":50,"color":"#FFFFFF","text":"Text","font":"lcd.FONT_Default","rotation":0,"type":"label","layer":5},{"id":"hBmB&Xhh5*oLyb1E","createTime":1644400172567,"isCoreTwo":false,"isPaper":false,"name":"label1","x":9,"y":12,"color":"#FFFFFF","text":"Text","font":"lcd.FONT_Default","rotation":0,"type":"label","layer":6}],"type":"core","units":[],"hats":[],"blockly":"<variables><variable id=\"raclMeUXNh!5!%|+D`z3\">state</variable><variable id=\"4]9$:wjO7+yP^j5uQm|o\">lightId</variable><variable id=\"^j~vkVftrgP]e_rn~_Kz\">jsonResponse</variable><variable id=\"R}%5GZ6(_nf0W4B#Rx0(\">response</variable><variable id=\"N/.q2{%?J-4*=r1SO$#C\">apiURL</variable><variable id=\"X[lW3nrBl0b%mBJ[.t0z\">toggle</variable><variable id=\"*aS=|(?MNX[mVY$r^apw\">ID</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"130\" y=\"170\"><next><block type=\"mqtt_set_client\" id=\"n][}~NkH7Xs;`:jT8;-G\"><mutation SSL=\"True\" key=\"Null\" cert=\"Null\"></mutation><value name=\"ID\"><shadow type=\"text\" id=\",AL8X{1sBx]4^||jJytT\"><field name=\"TEXT\"></field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"Uc%}SHxxwYn5HoxXkN(J\"><field name=\"TEXT\">mqtt.nextservices.dk</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"EHH1jWM[qLUf).[~hZZ8\"><field name=\"NUM\">0</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"oB2oqNj@1X!=RM:#K:dT\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text_password\" id=\"H([LV0)vw]7FzeP]q)He\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\"c+oPXr`h%WoRmd:`XJb}\"><field name=\"NUM\" max=\"65536\" step=\"1\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\"gj)bIPLPU(aO[R}FAJmX\"><next><block type=\"variables_set\" id=\":^.w`!XLO-#xXLmphgQx\"><field name=\"VAR\" id=\"*aS=|(?MNX[mVY$r^apw\">ID</field><value name=\"VALUE\"><block type=\"text\" id=\"wJl=NfwY~Fptw;J[-%Nq\"><field name=\"TEXT\">4</field></block></value><next><block type=\"variables_set\" id=\"p-2uprm!iRlE/S`FZQEn\"><field name=\"VAR\" id=\"X[lW3nrBl0b%mBJ[.t0z\">toggle</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"P;*@0:(}`{j#Dr;*-H;w\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\" id=\"K]TM);k`E6*(esvFqgZ-\"><field name=\"VAR\" id=\"R}%5GZ6(_nf0W4B#Rx0(\">response</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"nw~i8J2qyk1fsB;!ryAR\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"pins_digital_write\" id=\"A`i_H}.kp-pRRO!gqms0\"><value name=\"PIN\"><shadow type=\"math_number\" id=\"|U)iybMCoNEee_,Rn7^n\"><field name=\"NUM\">3</field></shadow></value><value name=\"VALUE\"><shadow type=\"math_number\" id=\"9MH:x}Txf*K`z_~(rM9S\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"basic_on_loop\" id=\"AK#8eQsMjXfU63G-?7a9\"><statement name=\"LOOP\"><block type=\"controls_if\" id=\"TXiEx^wwApOU^uF0CK|f\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"viQ?c~|~s=$ckIr?J.zl\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"g_6x3cgtN/tz5hD[}_k]\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"pins_digital_read\" id=\"p/#65QNAF1kx8~=+A,Ka\"><value name=\"PIN\"><shadow type=\"math_number\" id=\"XN11+IB6M;tQ9d@O8h?|\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"R?8lfy=2uRJ1WK]SiM/U\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"4|l1D{ZxzT]5=V4Iz+)k\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\":,!1-O]TIOkE.oS!Ew,(\"><field name=\"VAR\" id=\"R}%5GZ6(_nf0W4B#Rx0(\">response</field></block></value><value name=\"B\"><block type=\"logic_boolean\" id=\"G~Dbnozcu0VK^hHe%SS!\"><field name=\"BOOL\">TRUE</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"fu9zryK;U%ysm-eAw6*q\"><mutation name=\"setFrogActive\"><arg name=\"state\"></arg></mutation><value name=\"ARG0\"><block type=\"logic_negate\" id=\"s3knqugy*b=a{o4.i:zP\"><value name=\"BOOL\"><block type=\"variables_get\" id=\"!0kzP|]9%?pt:VuOVeDQ\"><field name=\"VAR\" id=\"X[lW3nrBl0b%mBJ[.t0z\">toggle</field></block></value></block></value></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"mqtt_sub\" id=\"!u+a*^,mdIAWX{+[Wk|!\" x=\"970\" y=\"170\"><value name=\"FROM\"><shadow type=\"text\" id=\"+fu/|~2i;_9rqm=h`8Sh\"><field name=\"TEXT\">setFrog</field></shadow></value><statement name=\"FUNC\"><block type=\"variables_set\" id=\"Va-pG~p_`H[kBmWF`4yX\"><field name=\"VAR\" id=\"^j~vkVftrgP]e_rn~_Kz\">jsonResponse</field><value name=\"VALUE\"><block type=\"loads_json\" id=\"6(j,)G?ga(Mw*tN]uKnf\"><value name=\"JSON_VAR\"><block type=\"mqtt_get_topic_data\" id=\"(U{Xscq-0iC9EnfuSbt^\"></block></value></block></value><next><block type=\"controls_if\" id=\"%WlrOUALZ@XPkyCO[}/+\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"f/WKAxaH3KpXeEc|[u4f\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"get_map_key\" id=\"%X_d:vK$:q)q$qLSbY~O\"><value name=\"key\"><block type=\"text\" id=\"b#=s4xB=cL]ZEUs3(s3b\"><field name=\"TEXT\">id</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"a[=8,h56[gwLqQRD|[!|\"><field name=\"VAR\" id=\"^j~vkVftrgP]e_rn~_Kz\">jsonResponse</field></block></value></block></value><value name=\"B\"><block type=\"variables_get\" id=\"+p|78itsN6eEgYOng4#D\"><field name=\"VAR\" id=\"*aS=|(?MNX[mVY$r^apw\">ID</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"bMH{TCDd+UG}-1CQ%YbR\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"*Yup{*MbvdyB9*O40W^Y\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"get_map_key\" id=\"tq|8^a3kpg/w=(pvxG9B\"><value name=\"key\"><block type=\"text\" id=\"MX`@/FRKi:Y,NX2Ds5xp\"><field name=\"TEXT\">active</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"7qQXIQWH64-;2$FD9GL`\"><field name=\"VAR\" id=\"^j~vkVftrgP]e_rn~_Kz\">jsonResponse</field></block></value></block></value><value name=\"B\"><block type=\"logic_boolean\" id=\",eIe/7RO43!fWsUv1p5M\"><field name=\"BOOL\">TRUE</field></block></value></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"6B/o/(/H`~6,LD5fJ;oV\"><mutation name=\"setFrogActive\"><arg name=\"state\"></arg></mutation><value name=\"ARG0\"><block type=\"logic_boolean\" id=\"|K[Sj%*1[DGcWWUoSHyQ\"><field name=\"BOOL\">TRUE</field></block></value></block></statement></block></statement></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"`PVM4A$S2W_B`DP9:};U\" x=\"970\" y=\"450\"><mutation><arg name=\"state\" varid=\"raclMeUXNh!5!%|+D`z3\"></arg></mutation><field name=\"NAME\">setFrogActive</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"`vBp+;@f^GotPP$QEu;%\"><field name=\"VAR\" id=\"R}%5GZ6(_nf0W4B#Rx0(\">response</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"aiC2j28:^b8/HLpf4h[v\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\" id=\"HNv!Z4B*GFmqH=B5zZ/7\"><field name=\"VAR\" id=\"X[lW3nrBl0b%mBJ[.t0z\">toggle</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"I[zE^,Ilw`}*?!U^bOP_\"><field name=\"VAR\" id=\"raclMeUXNh!5!%|+D`z3\">state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"DP|Ap`0gu+e%d20Xxz8?\"><mutation name=\"setLightState\"><arg name=\"lightId\"></arg><arg name=\"state\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"l%^C5T;bB^[Lf~Xl|=gp\"><field name=\"NUM\">4</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"apGYv3`qf9b|).U]Y.!q\"><field name=\"VAR\" id=\"X[lW3nrBl0b%mBJ[.t0z\">toggle</field></block></value><next><block type=\"pins_digital_write\" id=\"~euL_yF,+G4NR}fa!oxo\"><value name=\"PIN\"><shadow type=\"math_number\" id=\"BpCXCDOn%0/xc[KVeyR^\"><field name=\"NUM\">3</field></shadow></value><value name=\"VALUE\"><shadow type=\"math_number\" id=\",jexUi1gRD[7+[W5K.x.\"><field name=\"NUM\">0</field></shadow><block type=\"logic_ternary\" id=\"o0(5iBE~fX6^gEmIEwX4\"><value name=\"IF\"><block type=\"variables_get\" id=\"r)~(9PiYhlw%p{O1Py2q\"><field name=\"VAR\" id=\"X[lW3nrBl0b%mBJ[.t0z\">toggle</field></block></value><value name=\"THEN\"><block type=\"math_number\" id=\";Yi83qdYX/-[_;H7TaI5\"><field name=\"NUM\">0</field></block></value><value name=\"ELSE\"><block type=\"math_number\" id=\"u5r^fFwVCx/x)vo)}R%g\"><field name=\"NUM\">1</field></block></value></block></value><next><block type=\"controls_if\" id=\":bZpD;!o@9`a8=WD-8K~\"><comment pinned=\"false\" h=\"80\" w=\"160\">If the frog has been active, we want to send a response to the main server.</comment><value name=\"IF0\"><block type=\"logic_compare\" id=\"x`U7Y,Oiy~5uUw~Rxgv.\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"?vxW}FqdokA:.y7mfP|}\"><field name=\"VAR\" id=\"X[lW3nrBl0b%mBJ[.t0z\">toggle</field></block></value><value name=\"B\"><block type=\"logic_boolean\" id=\"l!o`HBW]~uz:FOWABS8p\"><field name=\"BOOL\">FALSE</field></block></value></block></value><statement name=\"DO0\"><block type=\"mqtt_publish\" id=\"3au#j_|,1c;9Q_:b)b+]\"><value name=\"FROM\"><shadow type=\"text\" id=\"s=+6|MP*h6rAW{{CUWj5\"><field name=\"TEXT\">frogPressed</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"W@#CiKmodXZAB)`kOd{f\"><field name=\"TEXT\"></field></shadow><block type=\"dumps_json\" id=\"xd0D.K]j]0n$SeT@+}t2\"><value name=\"JSON_VAR\"><block type=\"map_on_loop\" id=\"NjpedPc2Fc^pjEokbo`O\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"h}l[}#o19^u)kqaBSl7K\"><value name=\"key\"><block type=\"text\" id=\"4648;_Q.EVg*g{TbagSn\"><field name=\"TEXT\">id</field></block></value><value name=\"value\"><block type=\"variables_get\" id=\"0_*J!x7y;s#jx,eVX]PT\"><field name=\"VAR\" id=\"*aS=|(?MNX[mVY$r^apw\">ID</field></block></value><next><block type=\"create_map_key\" id=\"Q%[1?-2~0^xj9Y(3jmt$\"><value name=\"key\"><block type=\"text\" id=\"#G$]QxT)=VviBgdJA.;J\"><field name=\"TEXT\">time</field></block></value><value name=\"value\"><block type=\"timer_get_ms\" id=\")/b${!Bf?RT*ypdVpM8$\"></block></value></block></next></block></statement></block></value></block></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"[d[w]3%.C2vISx(eg*p9\" x=\"970\" y=\"930\"><mutation><arg name=\"lightId\" varid=\"4]9$:wjO7+yP^j5uQm|o\"></arg><arg name=\"state\" varid=\"raclMeUXNh!5!%|+D`z3\"></arg></mutation><field name=\"NAME\">setLightState</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to turn a light on/off</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"reRA|Woe`W|nz*myU%Aq\"><field name=\"VAR\" id=\"N/.q2{%?J-4*=r1SO$#C\">apiURL</field><value name=\"VALUE\"><block type=\"text_add\" id=\"2DaF=(BevYgHX%p+f,h/\"><value name=\"arg0\"><shadow type=\"text\" id=\"haLbg)/gdu}HKo(,5d8b\"><field name=\"TEXT\">http://10.78.65.185/api/iBHhV3L8to386zfeROng7bLJu16FuL4eHb-E-fsh/lights/</field></shadow></value><value name=\"arg1\"><block type=\"text_add\" id=\"k4;)t3W^;Fvl]E$5t9cC\"><value name=\"arg0\"><shadow type=\"text\" id=\"(=4V)(7SuV^8F921Z)ZE\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\")!0CHK5Pphn.`:x;Kq:c\"><field name=\"VAR\" id=\"4]9$:wjO7+yP^j5uQm|o\">lightId</field></block></value><value name=\"arg1\"><block type=\"text\" id=\"V__A:Nb!Qv1LwPZ${f{L\"><field name=\"TEXT\">/state</field></block></value></block></value></block></value><next><block type=\"label_set_text\" id=\"KU`!Bc$}C=Z/pj/2#g:3\"><field name=\"COMPONENT\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"@=k4i}u0tZo,sjZRDJSz\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"variables_get\" id=\"eX$33m]/9vn0bwG;l`qR\"><field name=\"VAR\" id=\"N/.q2{%?J-4*=r1SO$#C\">apiURL</field></block></value><next><block type=\"label_set_text\" id=\"%Lqml#n%Vl492Lap+#_j\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"variables_get\" id=\"}El|=t(9_ySGS!L$?)Ca\"><field name=\"VAR\" id=\"raclMeUXNh!5!%|+D`z3\">state</field></block></value><next><block type=\"http_request\" id=\"BYn^?UNBE);DM{Dd?`tF\"><field name=\"method\">PUT</field><value name=\"url\"><shadow type=\"text\" id=\"7km[@}dew:/5}#-$cI{z\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"O[CN}-?0L,6HfW)gc2Il\"><field name=\"VAR\" id=\"N/.q2{%?J-4*=r1SO$#C\">apiURL</field></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"Z=P;;Kv1f8Q-+#Z=s.yc\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"#M%S{TR32eNV%2WiYbg*\"><value name=\"key\"><block type=\"text\" id=\"7qIRgz^ORh;}NvccAKNR\"><field name=\"TEXT\">on</field></block></value><value name=\"value\"><block type=\"variables_get\" id=\";[CtNcAF9@}HwuL{Xs25\"><field name=\"VAR\" id=\"raclMeUXNh!5!%|+D`z3\">state</field></block></value></block></statement></block></value><statement name=\"success\"><block type=\"variables_set\" id=\"Ouq7ty7Oq8JpQi1!JyJ/\"><field name=\"VAR\" id=\"R}%5GZ6(_nf0W4B#Rx0(\">response</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"_i:-FWk/r)ZGn!SD23[7\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><statement name=\"fail\"><block type=\"variables_set\" id=\":Bq%g=7_-Oy|?tn~#dP=\"><field name=\"VAR\" id=\"R}%5GZ6(_nf0W4B#Rx0(\">response</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"J-EQEA~}1SP6Pf.Wt$!*\"><field name=\"BOOL\">TRUE</field></block></value></block></statement></block></next></block></next></block></next></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1644409897895,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"s9ytH6eu21E6al4EMiVVUozJ1cKX46T4","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["imu","machine"]}